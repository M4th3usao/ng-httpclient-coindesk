<!-- <hello id="title" name="{{ name }}"></hello> -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Bruno+Ace&display=swap"
  rel="stylesheet"
/>

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap"
  rel="stylesheet"
/>

<h1 id="title">BitCoin Price</h1>
<div class="container" *ngIf="getCurrentPrice()">
  <div class="updatedBtnSection">
    <input type="button" value="Update Price" (click)="update()" />
    <span
      >Atualizado em {{ this.bitcoinService.lastUpdate | date: 'full' }}</span
    >
  </div>

  <div class="content-price">
    <h2>Details</h2>
    <div id="content-details">
      <div class="date">
        <h3>Data/hora</h3>
        <p>{{ this.getCurrentPrice().time.updated }}</p>
      </div>

      <div class="price">
        <h3>Taxas</h3>
        <div class="row">
          <h3>{{ this.getCurrentPrice().bpi.USD.description }}</h3>
          <h4>
            <span>{{ this.getCurrentPrice().bpi.USD.symbol }}</span>
            {{ this.getCurrentPrice().bpi.USD.rate }}
          </h4>
        </div>

        <h3>{{ this.getCurrentPrice().bpi.GBP.description }}</h3>
        <h4>
          <span [innerHTML]="this.getCurrentPrice().bpi.GBP.symbol"></span>
          {{ this.getCurrentPrice().bpi.GBP.rate }}
        </h4>
        <h3>{{ this.getCurrentPrice().bpi.EUR.description }}</h3>
        <h4>
          <span [innerHTML]="this.getCurrentPrice().bpi.EUR.symbol"></span>
          {{ this.getCurrentPrice().bpi.EUR.rate }}
        </h4>
      </div>
    </div>
  </div>

  <div class="content-table">
    <table border="1">
      <tr>
        <th>Data/hora</th>
        <th>USD</th>
        <th>GBP</th>
        <th>EUR</th>
      </tr>
      <tr *ngFor="let price of this.bitcoinService.updateList">
        <td>{{ price.timestamp | date: 'full' }}</td>
        <td>{{ price.USD | currency }}</td>
        <td>{{ price.GBP | currency }}</td>
        <td>{{ price.EUR | currency }}</td>
      </tr>
    </table>
  </div>
</div>
